深比较变化
如果变化执行动作，并记录状态到state