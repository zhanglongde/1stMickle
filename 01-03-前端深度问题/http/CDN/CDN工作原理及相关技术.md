https://www.zhihu.com/question/28884646

一、CDN是如何工作的？比如你上网浏览一幅经过加速的图片，
首先浏览器先发起图片域名的解析，图片是经过加速的，最终CDN的授权服务器会接管这个询问，根据运维的配置或者自动化的找出系统认为距离客户端最合适的cache服务器的IP地址。
然后用户向cache发起链接并下载图片。
如果此cache节点没有此图片的资源，它会向父层询问，直到回源服务器访问，然后按照原路返回并保留存储。
等到下一次访问（如果没过期或者没被挤出缓存）直接从cache下载。

二、CDN技术
1.CNAME
2.A类型、负载均衡
3.DNS的edns-client-subnet
智能DNS


CDN主要功能
1.中心节点 边缘节点
2.智能DNS（相当于域名-IP映射关系的集合）
3.负载均衡（负向代理都可以用来实现负载均衡，CDN就是负向代理的一个实践）
概括为：
DNS智能选择最近的访问节点
镜像缓存静态内容