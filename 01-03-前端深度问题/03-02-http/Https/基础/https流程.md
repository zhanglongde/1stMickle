https协议流程
http://www.jianshu.com/p/671e3cf26974
https://www.zhihu.com/question/52493697

服务端 非对称秘钥
客户端 对称秘钥
非对称加解密：服务端用私钥加密，客户端用公钥解密；客户端用公钥加密，私钥解密
非对称加密算法用于在握手过程中加密生成的密码，对称加密算法用于对真正传输的数据进行加密，而HASH算法用于验证数据的完整性。

主要三个阶段
1.身份认证 存在中间人攻击风险
2.秘钥协商 兼顾效率与安全 破解难度较大
3.应用数据传输



1.客户端发起https请求
连接到服务器端的443端口
2.服务端的配置
服务端有一套数字证书
3.传送证书
证书包含公钥、证书颁发机构、过期时间
4.客户端解析证书
客户端TLS完成：验证公钥是否有效、颁发机构、过期时间
如果异常，提示证书存在问题
如果证书没有问题，生成一个随机值(随机密码)。然后用证书对该随机值进行加密
5.传送加密信息
  传送用证书加密后的随机值
6.服务端解密信息
服务端用私钥解密得到客户端传过来的随机值
把内容通过改制进行对称加密。
7.传输加密后的信息
8.客户端解密信息





1、 访问淘宝
2、 淘宝要求我安装数字证书
3、 安装完数字证书后，我会发一个随机串给服务器，让其加密 （让他签名吗？）
4、 服务器把加密过的随机串（这步就叫做数字签名吗？）发给我
5、 我会用数字证书中的公钥解密出字符串，如果和我相同，则证明该网站是可信的
6、 后面我会生成一个对称加密的算法和秘钥，把刚生成的秘钥用公钥加密发给服务器进行后面的通信