[从输入URL到页面加载的过程？如何由一道题完善自己的前端知识体系！](https://zhuanlan.zhihu.com/p/34453198)

## 第一阶段 ##
缓存处理
  DNS HTTP缓存
DNS解析获得IP
根据IP建立连接
  3次握手
浏览器发起HTTP/HTTPS请求线程
  HTTPS流程 HTTP2
  长连接 长轮询 WebSocket SSE等特殊连接

## 第二阶段 ##
服务器处理请求
  静态服务器负载均衡、高可用
  静态服务器与应用服务器通过CGI等通信
  进入后端语言，处理结束后返回

## 第三阶段 ##
浏览器处理响应
  解压gzip/deflate
浏览器解析渲染
  HTML解释器构建DOM树
  CSS解析器构建CSSOM树:CSS匹配DOM Tree主要是从右到左解析CSS的Selector
  合成render树
  普通图层合成复合图层
  CPU或者GPU绘制
外链资源发起另一请求线程【HTML和JS、CSS并发下载，但受限于浏览器最大请求数】
  JS的加载和执行阻塞DOM树解析，阻塞渲染【JS修改DOM树、CSSOM树，从而阻塞DOM树、CSSOM树构建，触发重绘重排】
  CSS的加载和解析不阻塞DOM树解析，阻塞CSSOM树构建【渲染树需要样式信息】
  图片既不会阻塞解析，也不会阻塞渲染，分CSS URL、IMG SRC以及JS【图片和其他资源并不会和（必要css，js资源）并行下载，构建dom 和 cssom的时候才开始下载】
  字体包

  浏览器下载资源是多线程的，但受限于最大线程数；
  js执行引擎和页面渲染是由不同的线程来执行，但这两者是互斥的，也就是说js执行过程是无法构建DOM和渲染页面的，这是一种优化机制；【否则，将反复触发重排重绘】
  除JS，其他资源不存在加载执行的过程;JS下载完成立即加载执行，CSS下载完成立即加载解析
  渐进显示：HTML解析一部分就显示一部分【浏览器不是解析一个标签就绘制显示一次，当遇到阻塞或者比较耗时的操作的时候才会先绘制一部分解析好的】
JS引擎解析
  对JS代码进行词法、语法等分析，通过编译器将代码编译成可执行的机器码让计算机去执行
  V8引擎由C++把源码直接编译成机器码
  编译：词法分析 语法分析 
  预编译
  执行
JS回流重绘
  回流 首次 resize 尺寸位置 内部文字 字体大小 getComputedStyle/clientHeight等CSSOM fixed滚动
DOMContentLoaded load
释放连接
  4次握手



