https://www.zhihu.com/question/24294477

数字证书一般由数字证书认证机构（Certificate Authority）颁发，证书里面包含了真实服务器的公钥和网站的一些其他信息，
数字证书机构用自己的私钥加密后发给浏览器，浏览器使用数字证书机构的公钥解密后得到真实服务器的公钥。
这个过程是建立在被大家所认可的证书机构之上得到的公钥，所以这是一种安全的方式。



数字证书怎么证明自己的身份
假设数字证书是第三方签发的，但这个第三方却不权威。也就是说，给网站签发证书的这个CA，没有被IE等浏览器认可。

信任链
浏览器 证书 签名


证书类型
根证书 浏览器内置了信任的根证书  TrustStore
中间证书
自签名证书
DV OV EV


证书哪里来？
正常来说，是需要浏览器访问CA站点去验证证书的有效性的。
但这样的话，会增加客户端的响应时间，服务器会针对这进行优化，在nginx层配置OCSP Staping 


证书警告
由用户决定是否中断网站访问
具有中间人攻击风险


认证过程
1.证书状态递归验证
验证完一张证书之后还得验证上级证书，一直验证到根

验证CA证书是否有效，建立在SSL握手成功以后的事情的。
握手成功以后，你会得到CA机构的DNS和ip，解析DNS，访问CA站点去校验证书是否有效
Https的一种优化方式，就是在Nginx配置 OCSP Stapling
而OCSP Stapling是对OCSP缺陷的弥补，服务器可事先模拟浏览器对证书链进行验证，并将带有CA机构签名的OCSP响应保存到本地，然后在握手阶段，将OCSP响应和证书链一起下发给浏览器，省去浏览器的在线验证过程。
2.根证书的可信程度
只有根证书可信，下级证书才可信



[证书合法性](https://www.zhihu.com/question/37370216)
