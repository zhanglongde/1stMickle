<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>MR_LP --> QQ : 3206064928</title>
</head>
<body>

</body>
<script type="text/javascript" charset="utf-8">
    /*
     写一个方法，在一个未知对象中，找出所有的“李鹏”
     并 console.log 对象输出它的引用地址，以及对应值
     以及当前所在对象和当前对象有多少个目标值
     * */
    var targetObj = {
        a:{
            b:{
                c:{
                    d:{
                        e:{
                            name:"百度"
                        }
                    },
                    l:{
                        name:"李鹏--> QQ:3206064928"
                    }
                }
            }
        },
        d:"90",
        e:"90",
        l:{
            a:{
                b:{
                    c:{
                        version:"1.0.0.1",
                        name:"李鹏--> QQ:3206064928"
                    }
                }
            }
        },
        f:{
            name:"李鹏--> QQ:3206064928",
            update:"2017年03月20日"
        }
    }

//    var aProps = Object.getOwnPropertyNames(targetObj)

    // 递归方法实现
    function getProp (obj, str) {
      if (typeof obj !== 'object' || typeof str !== 'string') {
        return []
      }
      var arr = []
      for (var key in obj) {
        if (typeof obj[key] === 'string' && obj[key].indexOf(str) >= 0) {
//            arr.push(obj[key])
            arr.push({name:obj[key],obj,keys:Object.keys(obj)})
        }
        if (typeof obj[key] === 'object') {
            // 可以用loadsh的union去重或者Array.from(new Set())
            arr = arr.concat(getProp(obj[key], str))
        }
      }
      return arr
    }

    var result = getProp(targetObj, '李鹏')
    console.log(result)
</script>
</html>