基于洋葱模型的HTTP中间件处理流程